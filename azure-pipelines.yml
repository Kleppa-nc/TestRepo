trigger:
  - master
  - main

stages:
  - stage: clean
    jobs:
      - job:
        pool:
          vmImage: 'ubuntu-latest'
        steps:
        - template: maven-clean-template.yaml

  - stage: install
    dependsOn: clean
    - job:
      pool:
        vmImage: 'ubuntu-latest'
      steps:
      - template: maven-install-template.yaml

  - stage: package
    dependsOn: install
    - job:
      pool:
        vmImage: 'ubuntu-latest'
      steps:
      - template: maven-package-template.yaml

